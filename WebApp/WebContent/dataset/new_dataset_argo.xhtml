<ui:composition xmlns="http://www.w3.org/1999/xhtml"
  xmlns:h="http://xmlns.jcp.org/jsf/html"
  xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
  xmlns:p="http://primefaces.org/ui" xmlns:f="http://xmlns.jcp.org/jsf/core"
  xmlns:pt="http://xmlns.jcp.org/jsf/passthrough"
  xmlns:c="http://java.sun.com/jsp/jstl/core"
  template="/WEB-INF/templates/basic_page.xhtml">
  <ui:define name="title">New Dataset</ui:define>
  <ui:define name="localHead">
    <h:outputScript name="script/newArgoDataSet.js" />
  </ui:define>
  <ui:define name="pageTitle">#{dataSetsBean.currentInstrument.name} - New Data Set</ui:define>
  <ui:define name="content">
    <h:form id="referenceForm">
      <h:inputHidden id="minStart" value="#{dataSetsBean.minimumStart}"/>
      <h:inputHidden id="maxEnd" value="#{dataSetsBean.maximumEnd}"/>
    </h:form>
    <h:form id="newDatasetForm" method="post" charset="utf8">
      <div class="fullPage">
        <h:panelGrid columns="2" cellpadding="5" class="buttonPanel">
          <p:outputLabel for="dataSetName" value="Data Set Name:" />
          <p:inputText id="dataSetName" widgetVar="pDataSetName"
            value="#{dataSetsBean.newDataSet.name}"
            onkeyup="processNewDataSet(null);"
            pt:data-platform-code="#{dataSetsBean.currentInstrument.platformCode}" />
          <p:outputLabel for="start" value="Start Cycle (#{dataSetsBean.minimumStart})" />
          <p:outputLabel for="end" value="End Cycle (#{dataSetsBean.maximumEnd})" />
          <p:inputNumber id="start" widgetVar="start"
            value="#{dataSetsBean.newDataSet.start}"
            minValue="#{dataSetsBean.minimumStart}"
            maxValue="#{dataSetsBean.maximumEnd}"
            decimalPlaces="0"
            onchange="processNewDataSet('start');"/>
          <p:inputNumber id="end" widgetVar="end"
            value="#{dataSetsBean.newDataSet.end}"
            minValue="#{dataSetsBean.minimumStart}"
            maxValue="#{dataSetsBean.maximumEnd}"
            decimalPlaces="0"
            onchange="processNewDataSet('end');"/>
        </h:panelGrid>
        <div id="errorList" class="errors hidden"></div>
      </div>
      <h:panelGrid columns="2" cellpadding="5" class="buttonPanel">
        <p:commandButton id="addButton" widgetVar="pAddButton"
          value="Add Data Set"
          action="#{dataSetsBean.addDataSet}"/>
        <p:commandButton value="Cancel" ajax="false"
          action="#{dataSetsBean.goToList}" immediate="true" />
      </h:panelGrid>
    </h:form>
  </ui:define>
</ui:composition>
